<section
  class="card-item"
  role="listitem"
  fxLayout="row"
  cdkDrag
  [cdkDragDisabled]="index === 0 && isLast"
>
  <div class="drag-placeholder" *cdkDragPlaceholder></div>
  <mat-card
    appearance="outlined"
    class="card mat-elevation-z4"
    fxLayout="column"
    fxLayout.gt-xs="row"
    fxFlex.gt-xs="100%"
    [ngClass.xs]="{ 'card--mobile': true }"
  >
    <div
      class="card__image"
      [ngStyle]="{
        'background-image': 'url(assets/cards/' + cardContent.imageId + ')'
      }"
    ></div>
    <section class="card__content" role="region" fxLayout="column">
      <div fxLayout="row" fxLayoutAlign="space-between">
        <span class="mat-body-strong">{{ cardContent[displayLang].title }}</span>
        <button
          color="primary"
          mat-icon-button
          class="card__content__edit-button"
          data-test="content-editor__welcome__item__edit-button"
          type="button"
          [attr.aria-label]="'BUTTON.EDIT' | translate"
          (click)="editItem()"
        >
          <fa-icon icon="pen" size="lg" [fixedWidth]="true"></fa-icon>
        </button>
      </div>

      <div class="card__content__main" fxLayoutAlign="space-between" fxLayout="column">
        <p class="num-margin-b-20">
          {{ cardContent[displayLang].text }}
        </p>

        <div>
          <div *ngIf="cardContent.url">
            <div>{{ 'CONTENT_EDITOR.CARD_URL' | translate }}:</div>
            <a [href]="cardContent.url">{{ cardContent.url }}</a>
          </div>

          <div fxLayout="row" fxLayoutAlign="end">
            <num-button
              class="delete-button"
              type="basic"
              icon="trash"
              data-test="content-editor__welcome__item__delete-button"
              (singleClick)="delete.emit()"
              >{{ 'BUTTON.DELETE_INFO_CARD' | translate }}</num-button
            >
          </div>
        </div>
      </div>
    </section>
  </mat-card>

  <section
    class="toolbar"
    role="toolbar"
    fxFlex="48px"
    fxLayout="column"
    fxLayoutAlign="start center"
    fxLayoutGap="20px"
  >
    <button
      data-test="content-editor__welcome__item__move-up-button"
      type="button"
      mat-icon-button
      color="primary"
      [attr.aria-label]="'BUTTON.MOVE_UP' | translate"
      [disabled]="index === 0"
      (click)="moveUp.emit()"
    >
      <fa-icon icon="caret-square-up" size="lg" [fixedWidth]="true"></fa-icon>
    </button>

    <button
      class="drag-button"
      cdkDragHandle
      data-test="content-editor__welcome__item__drag-button"
      type="button"
      mat-icon-button
      color="primary"
      [disabled]="index === 0 && isLast"
      [attr.aria-label]="'BUTTON.DRAG_TO_MOVE' | translate"
    >
      <fa-icon icon="arrows-alt" size="lg" [fixedWidth]="true"></fa-icon>
    </button>

    <button
      data-test="content-editor__welcome__item__move-down-button"
      type="button"
      mat-icon-button
      color="primary"
      [attr.aria-label]="'BUTTON.MOVE_DOWN' | translate"
      [disabled]="isLast"
      (click)="moveDown.emit()"
    >
      <fa-icon icon="caret-square-up" size="lg" rotate="180" [fixedWidth]="true"></fa-icon>
    </button>
  </section>
</section>
