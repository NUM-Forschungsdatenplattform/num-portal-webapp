<section
  role="region"
  aria-labelledby="general-info-label"
  fxLayout="column"
  fxFlex="100%"
  fxLayoutGap="20px"
>
  <h3>{{ 'FORM.GENERAL_INFO' | translate }}*</h3>

  <mat-card>
    <mat-card-content fxLayout="column" fxFlex="100%">
      <p id="general-info-label">
        {{ 'QUERIES.GENERAL_INFO_CONTENT' | translate }}
      </p>

      <form fxLayout="column" [formGroup]="form">
        <mat-form-field appearance="outline" color="accent">
          <mat-label id="title-label">DE: {{ 'FORM.TITLE' | translate }}</mat-label>
          <input
            formControlName="title"
            matInput
            placeholder="Title"
            aria-labelledby="title-label"
            data-test="aql-editor__general-info__title-input"
          />
        </mat-form-field>

        <mat-form-field appearance="outline" color="accent">
          <mat-label id="title-translated-label">EN: {{ 'FORM.TITLE' | translate }}</mat-label>
          <input
            formControlName="titleTranslated"
            matInput
            placeholder="Title"
            aria-labelledby="title-translated-label"
            data-test="aql-editor__general-info__title-translated-input"
          />
        </mat-form-field>

        <section role="presentation" fxLayout="row" fxLayoutGap="20px">
          <mat-form-field appearance="outline" color="accent" fxFlex="50%">
            <mat-label id="label-purpose">DE: {{ 'FORM.PURPOSE' | translate }}</mat-label>
            <textarea
              formControlName="purpose"
              #textarea
              matInput
              style="resize: none"
              aria-labelledby="label-purpose"
              rows="10"
              data-test="aql-editor__general-info__purpose-input"
            ></textarea>
          </mat-form-field>

          <mat-form-field appearance="outline" color="accent" fxFlex="50%">
            <mat-label id="label-use">DE: {{ 'FORM.USE' | translate }}</mat-label>
            <textarea
              formControlName="use"
              #textarea
              matInput
              style="resize: none"
              aria-labelledby="label-use"
              rows="10"
              data-test="aql-editor__general-info__use-input"
            ></textarea>
          </mat-form-field>
        </section>

        <section role="presentation" fxLayout="row" fxLayoutGap="20px">
          <mat-form-field appearance="outline" color="accent" fxFlex="50%">
            <mat-label id="label-purpose-translated"
              >EN: {{ 'FORM.PURPOSE' | translate }}</mat-label
            >
            <textarea
              formControlName="purposeTranslated"
              #textarea
              matInput
              style="resize: none"
              aria-labelledby="label-purpose-translated"
              rows="10"
              data-test="aql-editor__general-info__purpose-translated-input"
            ></textarea>
          </mat-form-field>

          <mat-form-field appearance="outline" color="accent" fxFlex="50%">
            <mat-label id="label-use-translated">EN: {{ 'FORM.USE' | translate }}</mat-label>
            <textarea
              formControlName="useTranslated"
              #textarea
              matInput
              style="resize: none"
              aria-labelledby="label-use-translated"
              rows="10"
              data-test="aql-editor__general-info__use-translated-input"
            ></textarea>
          </mat-form-field>
        </section>

        <mat-form-field *ngIf="availableCategories" appearance="outline" color="accent">
          <mat-label id="label-category" translate="FORM.CATEGORY"></mat-label>
          <mat-select
            *ngIf="availableCategories.length"
            class="aql-category-select"
            formControlName="category"
          >
            <mat-option
              *ngFor="let category of availableCategories | objectToArray"
              [value]="category.id"
              >{{ category.name[lang] }}</mat-option
            >
            <mat-option>{{ 'QUERY_CATEGORIES.UNCATEGORIZED' | translate }}</mat-option>
          </mat-select>
          <mat-select
            *ngIf="!availableCategories.length"
            class="aql-category-select"
            formControlName="category"
          >
            <mat-option
              *ngFor="let category of availableCategories | objectToArray"
              [value]="category.id"
              >{{ category[lang] }}</mat-option
            >
            <mat-option>{{ 'QUERY_CATEGORIES.UNCATEGORIZED' | translate }}</mat-option>
          </mat-select>
        </mat-form-field>

        <mat-checkbox
          id="isPublic"
          color="accent"
          formControlName="isPublic"
          data-test="aql-editor__general-info__isPublic-checkbox"
          >{{ 'FORM.PUBLIC_CHECKBOX' | translate }}</mat-checkbox
        >
      </form>
    </mat-card-content>
  </mat-card>
</section>
