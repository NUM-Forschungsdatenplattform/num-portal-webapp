<h2>{{ 'SEARCH.DATA_FILTER_HEADING' | translate }}</h2>
<p class="num-margin-b-40">
  {{ 'SEARCH.DATA_FILTER_DESCRIPTION' | translate }}
</p>

<num-data-filter-templates
  [project]="currentProject"
  [totalCohortSize]="totalCohortSize"
></num-data-filter-templates>

<mat-card
  appearance="outlined"
  fxLayout="row"
  fxLayoutGap="16px"
  class="num-margin-b-40"
  *numUserHasRole="[availableRoles.StudyCoordinator]"
>
  <fa-icon class="num-fc--p" icon="info-circle" size="2x" [fixedWidth]="true"></fa-icon>
  <p>{{ 'SEARCH.DATA_FILTER_APPLY_CONFIG_DESCRIPTION' | translate }}</p>
</mat-card>

<mat-divider class="num-d-w--1 num-margin-b-40"></mat-divider>
<div
  class="num-margin-b-40"
  role="presentation"
  fxLayout="row"
  fxLayoutAlign="end"
  fxLayoutGap="8px"
>
  <num-button
    id="previous-step-button"
    type="secondary"
    (singleClick)="goToPatientFilter()"
    data-test="data-filter__previous-step-button"
    >{{ 'BUTTON.PREVIOUS_STEP' | translate }}</num-button
  >

  <num-button
    *numUserHasRole="[availableRoles.StudyCoordinator]"
    id="go-to-project-button"
    type="primary"
    (singleClick)="gotToProject()"
    data-test="data-filter__go-to-project-button"
    >{{ 'BUTTON.APPLY_CONFIGURATION' | translate }}</num-button
  >

  <div *featureIsActive="[AvailableFeatures.SearchWithAql]">
    <num-button
      *numUserHasRole="[availableRoles.Manager]"
      id="go-to-data-retrival-button"
      type="primary"
      (singleClick)="gotToDataRetrival()"
      data-test="data-filter__go-to-data-retrival-button"
      >{{ 'BUTTON.START_DATA_RETRIEVAL' | translate }}</num-button
    >
  </div>
</div>
